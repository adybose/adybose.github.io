<!doctype html>

<html lang="en">

<head>
  <title>Covid-19 Stats Tweeter - Aditya Bose</title>
  <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="description" content="The HTML5 Herald" />
<meta name="author" content="" /><meta property="og:title" content="Covid-19 Stats Tweeter" />
<meta property="og:description" content="So I finally got developer account access from Twitter which I had applied for last month to post automated coronavirus updates. In this part, we will look at the process of creating an app, and developing the code to post tweets programmatically." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://adybose.github.io/posts/04/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-05-16T13:56:48&#43;05:30" />
<meta property="article:modified_time" content="2020-05-16T13:56:48&#43;05:30" />


<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Covid-19 Stats Tweeter"/>
<meta name="twitter:description" content="So I finally got developer account access from Twitter which I had applied for last month to post automated coronavirus updates. In this part, we will look at the process of creating an app, and developing the code to post tweets programmatically."/>

<meta name="generator" content="Hugo 0.83.1" />
    

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css" integrity="sha256-l85OmPOjvil/SOvVt3HnSSjzF1TUMyT9eV0c2BzEGzU=" crossorigin="anonymous" />
  <link rel="stylesheet" href="https://adybose.github.io/fontawesome/css/all.min.css" />
  
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Slab|Ruda" />
  
  
  <link rel="stylesheet" type="text/css" href="https://adybose.github.io/css/styles.css" /></head>

<body>
  <div id="container">
    <header>
      <h1>
                <a href="https://adybose.github.io/">Aditya Bose</a>
            </h1>

      <ul id="social-media">
             <li>
               <a href="https://www.facebook.com/" title="Facebook">
               <i class="fab fa-facebook fa-lg"></i>
               </a>
             </li>
             <li>
               <a href="https://github.com/adybose" title="GitHub">
               <i class="fab fa-github fa-lg"></i>
               </a>
             </li>
             <li>
               <a href="https://gitlab.com/" title="GitLab">
               <i class="fab fa-gitlab fa-lg"></i>
               </a>
             </li>
             <li>
               <a href="https://twitter.com/aditya_bose" title="Twitter">
               <i class="fab fa-twitter fa-lg"></i>
               </a>
             </li>
             <li>
               <a href="https://linkedin.com/in/" title="LinkedIn">
               <i class="fab fa-linkedin fa-lg"></i>
               </a>
             </li>
             <li>
               <a href="https://www.instagram.com/" title="Instagram">
               <i class="fab fa-instagram fa-lg"></i>
               </a>
             </li>
      </ul>
      
      <p><em>Software developer and part-time memelord</em></p>
      
    </header>

    
<nav>
    <ul>
        
        <li>
            <a class="" href="https://adybose.github.io/">
                <i class="fa-li fa  fa-lg"></i><span>Home</span>
            </a>
        </li>
        
        <li>
            <a class="" href="https://adybose.github.io/posts/">
                <i class="fa-li fa  fa-lg"></i><span>Posts</span>
            </a>
        </li>
        
        <li>
            <a class="" href="https://adybose.github.io/about/">
                <i class="fa-li fa  fa-lg"></i><span>About</span>
            </a>
        </li>
        
    </ul>
</nav>


    <main>




<article>

    <h1>Covid-19 Stats Tweeter</h1>

    
      <aside>
    <ul>
        <li>
            <time class="post-date" datetime="2020-05-16T13:56:48&#43;05:30">May 16, 2020</time>
        </li>
        
        

        
        <li>
            <em>
                
                    
                    <a href="https://adybose.github.io/tags/covid-19">#covid-19</a>
                
                    , 
                    <a href="https://adybose.github.io/tags/twitter">#twitter</a>
                
                    , 
                    <a href="https://adybose.github.io/tags/python">#python</a>
                
            </em>
        </li>
        

        <li>2 minute read</li>
    </ul>
</aside>

    

    


    <p>So I finally got developer account access from Twitter which I had applied for last <a href="../01">month</a> to post automated coronavirus updates.
In this part, we will look at the process of creating an app, and developing the code to post tweets programmatically.</p>
<p>We are going to use Python3 as our programming language and use the <code>tweepy</code> python library to access Twitter&rsquo;s APIs along with <code>lxml</code> package to parse the Worldometers site for data. We need to install these dependencies in a new python virtual environment, and activate it to start developing.</p>
<p>First, we go to the <a href="https://developer.twitter.com/en/apps">apps page</a> and create an app. We give an app name, add a description and a website url. dd description and a website url. At the bottom, we need to describe briefly how we are going to use the app, and press create.</p>
<p>Once created, go to the <em>Keys and Tokens</em> tab, and generate Access Token and Access Token Secret, and copy them along with the consumer API keys in a python file called <em>config.py</em> as below:</p>
<pre><code>CONSUMER_KEY = '&lt;API key&gt;'
CONSUMER_SECRET = '&lt;API secret key&gt;'
ACCESS_TOKEN = '&lt;Access token&gt;'
ACCESS_TOKEN_SECRET = '&lt;Access token secret&gt;'
</code></pre><p>In the same folder as <em>config.py</em>, create another python file called <em>app.py</em> and import the tweepy module, the keys from config and authenticate the app as below:</p>
<pre><code>auth = tweepy.OAuthHandler(CONSUMER_KEY, CONSUMER_SECRET)
auth.set_access_token(ACCESS_TOKEN, ACCESS_TOKEN_SECRET)
</code></pre><p>Then, create an API object and verify the access credentials as below:</p>
<pre><code>api = tweepy.API(auth)
api.verify_credentials()
</code></pre><p>We are now ready to compose our tweet and post it to Twitter.</p>
<p>We use the <code>requests</code> library to fetch the data for our tweet from Worldometers, parse it using <code>xpath</code> and save it in a variable called <em>tweet</em>. We can then post our tweet using a single line of code as below:</p>
<pre><code>api.update_status(tweet)
</code></pre><p>To post the tweet, simply run the <em>app.py</em> from the console with the command</p>
<pre><code>$ python app.py
</code></pre><p>We now have a basic Twitter bot ready, and can post tweets whenever we run our script. Feel free to checkout the code on <a href="https://github.com/adbose/covid-tweeter">Github</a> and send PRs to improve this bot.</p>
<p>Also, follow the bot <a href="https://twitter.com/covidtrackerbot">@covidtrackerbot</a> on Twitter, and press the bell icon to get notified whenever there is a new tweet.</p>
<p>Our next steps would be to host it online and add more functionality like tweeting periodically from an infinite loop, or tweeting country-wise stats as they are updated on Worldometer.</p>
<p>Stay tuned for further updates!</p>


</article>


<section class="post-nav">
    <ul>
        
        <li>
            <a href="https://adybose.github.io/posts/03/"><i class="fa fa-chevron-circle-left"></i> Twilio Hackathon 2020</a>
        </li>
        
        
        <li>
            <a href="https://adybose.github.io/posts/05/">An Introduction To Git <i class="fa fa-chevron-circle-right"></i> </a>
        </li>
        
    </ul>
</section>
  
    
    
  





</main>
    <footer>
        <h6>Copyright Â© 2020 - Aditya Bose |
            Rendered by <a href="https://gohugo.io" title="Hugo">Hugo</a> |
            <a href="https://adybose.github.io/index.xml">Subscribe </a></h6>
    </footer>
</div>
<script src="https://adybose.github.io/js/scripts.js"></script>


</body>

</html>

